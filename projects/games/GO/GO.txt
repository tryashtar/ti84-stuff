ClrHome
2â†’T
1â†’M
{10,18}â†’dim([E]
If [E](1,1)=sin(ğ‘’ğ‘’ğ‘’
Then
	Output(1,1,"Found a saved
	Output(2,1,"game! Do what?
	Output(4,2,"Resume
	Output(5,2,"Restart
	Output(6,2,"Discard
	Output(7,2,"Quit
	1â†’T
	Output(4,1,"â–º
	getKey
	0â†’K
	While Kâ‰ 105 and Kâ‰ 45
		0â†’K
		While K=0
			getKeyâ†’K
		End
		If K=25 or K=34
		Then
			Output(T+3,1," 
			If K=25
				T-1â†’T
			If K=34
				T+1â†’T
			If T>4
				1â†’T
			If T<1
				4â†’T
			Output(T+3,1,"â–º
		End
	End
	If K=45 or T=3 or T=4
	Then
		If K=105 and T=3
			DelVar [E]
		ClrHome
		Return
	End
End
ClrHome
Output(4,1,"Building Boardâ€¦
"â¬š@Oâ†’Str1
{â»1,1,0,0}â†’Lâ‚ƒ
If T=2
Then
	Fill(0,[E]
	0â†’M
	For(I,1,18
		3â†’[E](1,I
		3â†’[E](10,I
	End
	For(I,2,9
		3â†’[E](I,1
		3â†’[E](I,18
	End
	4â†’[E](1,2
	4â†’[E](1,3
	4â†’[E](1,4
	For(I,1,8
		Output(I,1,"â¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬šâ¬š
	End
End
If T=1
Then
	For(I,1,8
		For(J,1,16
			Output(I,J,sub(Str1,[E](I+1,J+1)+1,1
		End
	End
End
[E](1,2)-3â†’T
[E](1,3)-3â†’Y
[E](1,4)-3â†’X
Output(Y,X,"Ã—
While 1
	getKey
	0â†’K
	While K=0
		getKeyâ†’K
	End
	If K=45
	Then
		Output(Y,X,"?
		0â†’K
		While Kâ‰ 45 and Kâ‰ 105
			getKeyâ†’K
		End
		If K=105
		Then
			sin(ğ‘’ğ‘’ğ‘’)â†’[E](1,1
			3+Tâ†’[E](1,2
			3+Yâ†’[E](1,3
			3+Xâ†’[E](1,4
			If M=0
				DelVar [E]
			ClrHome
			Return
		End
		Output(Y,X,"Ã—
	End
	If K=24 or K=25 or K=26 or K=34
	Then
		Output(Y,X,sub(Str1,[E](Y+1,X+1)+1,1
		If K=24
			X-1â†’X
		If K=26
			X+1â†’X
		If K=25
			Y-1â†’Y
		If K=34
			Y+1â†’Y
		remainder(X+15,16)+1â†’X
		remainder(Y+7,8)+1â†’Y
		Output(Y,X,"Ã—
	End
	If K=105 and [E](Y+1,X+1)=0
	Then
		Output(Y,X,"_
		Tâ†’[E](Y+1,X+1
		Tâ†’U
		T+1â†’T
		If Tâ‰¥3
			1â†’T
		0â†’W
		For(I,1,4
			0â†’dim(Lâ‚
			0â†’dim(Lâ‚‚
			If [E](Y+1+Lâ‚ƒ(I),X+1+Lâ‚ƒ(5-I))=T
			Then
				Y+1+Lâ‚ƒ(I)â†’Lâ‚(dim(Lâ‚)+1
				X+1+Lâ‚ƒ(5-I)â†’Lâ‚‚(dim(Lâ‚‚)+1
			End
			1â†’J
			0â†’S
			While Jâ‰¤dim(Lâ‚
				T+.5â†’[E](Lâ‚(J),Lâ‚‚(J
				For(L,1,4
					If [E](Lâ‚(J)+Lâ‚ƒ(L),Lâ‚‚(J)+Lâ‚ƒ(5-L))=T
					Then
						Lâ‚(J)+Lâ‚ƒ(L)â†’Lâ‚(dim(Lâ‚)+1
						Lâ‚‚(J)+Lâ‚ƒ(5-L)â†’Lâ‚‚(dim(Lâ‚‚)+1
					End
					If [E](Lâ‚(J)+Lâ‚ƒ(L),Lâ‚‚(J)+Lâ‚ƒ(5-L))=0
					Then
						5â†’L
						dim(Lâ‚)+1â†’J
						1â†’S
					End
				End
				J+1â†’J
			End
			If S=0 and dim(Lâ‚)>0
			Then
				1â†’W
				For(J,1,dim(Lâ‚
					Output(Lâ‚(J)-1,Lâ‚‚(J)-1,"â¬š
					0â†’[E](Lâ‚(J),Lâ‚‚(J
				End
			End
		End
		If W=0
		Then
			{Y+1}â†’Lâ‚
			{X+1}â†’Lâ‚‚
			1â†’I
			While Iâ‰¤dim(Lâ‚
				U+.5â†’[E](Lâ‚(I),Lâ‚‚(I
				For(J,1,4
					If [E](Lâ‚(I)+Lâ‚ƒ(J),Lâ‚‚(I)+Lâ‚ƒ(5-J))=U
					Then
						Lâ‚(I)+Lâ‚ƒ(J)â†’Lâ‚(dim(Lâ‚)+1
						Lâ‚‚(I)+Lâ‚ƒ(5-J)â†’Lâ‚‚(dim(Lâ‚‚)+1
					End
					If [E](Lâ‚(I)+Lâ‚ƒ(J),Lâ‚‚(I)+Lâ‚ƒ(5-J))=0
					Then
						5â†’J
						dim(Lâ‚)+1â†’I
						1â†’W
					End
				End
				I+1â†’I
			End
		End
		iPart([E])â†’[E]
		sin(ğ‘’ğ‘’ğ‘’)â†’[E](1,1
		If W=1
		Then
			1â†’M
			Output(Y,X,sub(Str1,U+1,1
		Else
			Uâ†’T
			0â†’[E](Y+1,X+1
			Output(Y,X,"Ã—
		End
	End
End
End